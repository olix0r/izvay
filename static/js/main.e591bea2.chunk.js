(this.webpackJsonpizvay=this.webpackJsonpizvay||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(60),o=a.n(c),i=(a(97),a(22)),l=a(61),u=a(29),s=a.n(u),m=a(62),f=a(4),p=a(126),d=a(68),x=a(118),v=a(121),E=a(122),g=a(123),h=a(124),b=a(125);function y(){var e=Object(l.a)(["\n  height: 100%;\n  width: 100%;\n"]);return y=function(){return e},e}var w=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./reports.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent.reduce((function(e,t){var a=JSON.parse(t.Labels),n=a.run,r=a.kind,c=a.name;return e[r].push({kind:r,name:c,run:n,fortio:t}),e}),{proxy:[],baseline:[]}),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=d.a.svg(y()),R=function(e){var t=e.reports,a=e.labeler,c=e.maxLatency,o=e.maxRequests,i=e.withTopAxis;return r.a.createElement(k,{ref:Object(n.useCallback)((function(e){if(0!==t.length){var n=e.getBoundingClientRect().width,r=17*t.length,l=f.g().domain([0,c]).rangeRound([60,n-15]),u=f.f().domain(t.map(a)).rangeRound([0,r]),s=f.k(e).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(n," ").concat(r+(i?17:0))),m=f.i(f.d).domain([0,Math.pow(o,.5)]),p=f.h(f.j[5]).domain(["50","75","90","99","99.9"]),d=0;i&&(s.append("g").call((function(e){return e.attr("transform","translate(0,".concat(17,")")).call(f.b(l).tickSize(17/3).tickFormat((function(e){return"".concat(1e3*e.valueOf(),"ms")}))).call((function(e){return e.selectAll(".domain").remove()}))})),d=17),s.append("g").call((function(e){return e.attr("transform","translate(60,".concat(d,")")).call(f.a(u).tickSizeOuter(0)).call((function(e){return e.selectAll(".domain").remove()}))}));var x=s.append("g").attr("transform",(function(e){return"translate(0,".concat(d,")")})).selectAll("g").data(t).join("g").attr("transform",(function(e){return"translate(0,".concat(u(a(e)),")")}));x.append("g").selectAll("rect").data((function(e){return e.fortio.DurationHistogram.Data})).join("rect").attr("x",(function(e){return l(e.Start)+1})).attr("width",(function(e){return l(e.End)-l(e.Start)})).attr("height",u.bandwidth()).attr("fill",(function(e){return m(Math.pow(e.Count,.5))})).append("title").text((function(e){return"".concat(e.Count," reqs [").concat(1e3*e.Start,"ms..").concat(1e3*e.End,"ms)")})),x.append("g").selectAll("rect").data((function(e){return e.fortio.DurationHistogram.Percentiles})).join("rect").attr("x",(function(e){return l(e.Value)})).attr("y",u.bandwidth()/3).attr("width",2).attr("height",u.bandwidth()/3).attr("fill",(function(e){return p("".concat(e.Percentile))})).append("title").text((function(e){return"".concat(e.Percentile," percentile ").concat(1e3*e.Value,"ms")}))}}),[t])})},j=function(e){var t=e.reports,a=e.labeler,c=e.maxLatency,o=e.maxRequests,i=e.withTopAxis;return r.a.createElement(k,{ref:Object(n.useCallback)((function(e){if(0!==t.length){var n=e.getBoundingClientRect().width,r=17*t.length,l=f.g().domain([0,o]).rangeRound([60,n-15]),u=f.f().domain(t.map(a)).rangeRound([0,r]),s=f.k(e).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(n," ").concat(r+(i?17:0))),m=f.i(f.c).domain([0,Math.pow(c,.5)]),p=0;i&&(s.append("g").call((function(e){return e.attr("transform","translate(0,".concat(17,")")).call(f.b(l).tickSize(17/3).tickFormat((function(e){return"".concat(e.valueOf()/1e3,"K")}))).call((function(e){return e.selectAll(".domain").remove()}))})),p=17),s.append("g").call((function(e){return e.attr("transform","translate(60,".concat(p,")")).call(f.a(u).tickSizeOuter(0)).call((function(e){return e.selectAll(".domain").remove()}))})),s.append("g").attr("transform",(function(e){return"translate(0,".concat(p,")")})).selectAll("g").data(t).join("g").attr("transform",(function(e){return"translate(0,".concat(u(a(e)),")")})).append("g").selectAll("rect").data((function(e){return function(e){var t=e.fortio,a=[],n=0,r=!0,c=!1,o=void 0;try{for(var i,l=t.DurationHistogram.Data[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;a.push({prior:n,bucket:u}),n+=u.Count}}catch(s){c=!0,o=s}finally{try{r||null==l.return||l.return()}finally{if(c)throw o}}return a}(e)})).join("rect").attr("x",(function(e){var t=e.prior;return l(t)+1})).attr("width",(function(e){var t=e.prior,a=e.bucket;return l(t+a.Count)-l(t)})).attr("height",u.bandwidth()).attr("fill",(function(e){var t=e.bucket;return m(Math.pow(t.End,.5))})).append("title").text((function(e){var t=e.prior,a=e.bucket;return"".concat(t+a.Count," reqs <").concat(1e3*a.End,"ms")}))}}),[t])})},A=function(e,t){return e.kind!==t.kind?"baseline"===e.kind?-1:1:e.name===t.name?0:"baseline"===e.name||e.name<t.name?-1:1},q=function(){var e=Object(n.useState)({maxLatency:0,maxRequests:0,reports:{baseline:[],proxy:[]}}),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){w().then((function(e){var t=f.e(e.baseline.concat(e.proxy),(function(e){e.run,e.kind,e.name;return e.fortio.DurationHistogram.Max})),a=f.e(e.baseline.concat(e.proxy),(function(e){return e.fortio.DurationHistogram.Count}));c({maxLatency:t,maxRequests:a,reports:e})}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,null),r.a.createElement(v.a,{maxWidth:"xl"},r.a.createElement(E.a,{container:!0,spacing:5},r.a.createElement(E.a,{item:!0,sm:12}),r.a.createElement(E.a,{item:!0,sm:12,xl:6,key:"heat"},r.a.createElement(g.a,{elevation:2},r.a.createElement(E.a,{container:!0,spacing:3,direction:"row"},r.a.createElement(E.a,{item:!0,sm:12,key:"heat-axis"},r.a.createElement(v.a,null,r.a.createElement(g.a,{elevation:2},r.a.createElement(E.a,{container:!0,spacing:1,alignItems:"flex-start"},r.a.createElement(E.a,{item:!0,sm:1},r.a.createElement(v.a,null,r.a.createElement(h.a,{variant:"caption"},"baseline"))),r.a.createElement(E.a,{item:!0,sm:11},r.a.createElement(R,{reports:a.reports.baseline,labeler:function(e){var t=e.name;return"".concat(t)},maxLatency:a.maxLatency,maxRequests:a.maxRequests,withTopAxis:!0})))))),Array.from(Object(p.a)(a.reports.proxy,(function(e){return e.run})).values()).flatMap((function(e){var t=e.sort(A),n=t[0].run;return r.a.createElement(E.a,{item:!0,sm:12,key:"".concat(n,"-heat")},r.a.createElement(v.a,null,r.a.createElement(g.a,{elevation:2},r.a.createElement(E.a,{container:!0,spacing:1,justify:"flex-start",alignItems:"flex-start"},r.a.createElement(E.a,{item:!0,sm:1},r.a.createElement(v.a,null,r.a.createElement(h.a,{variant:"caption"},n))),r.a.createElement(E.a,{item:!0,sm:11},r.a.createElement(R,{reports:t,labeler:function(e){var t=e.name;return"".concat(t)},maxLatency:a.maxLatency,maxRequests:a.maxRequests}))))))}))))),r.a.createElement(E.a,{item:!0,sm:12,xl:6,key:"bars"},r.a.createElement(g.a,{elevation:2},r.a.createElement(E.a,{container:!0,spacing:3,direction:"row"},r.a.createElement(E.a,{item:!0,sm:12,key:"bars-axis"},r.a.createElement(v.a,null,r.a.createElement(g.a,{elevation:2},r.a.createElement(E.a,{container:!0,spacing:1,alignItems:"flex-start"},r.a.createElement(b.a,{only:"xl"},r.a.createElement(E.a,{item:!0,sm:1},r.a.createElement(v.a,null,r.a.createElement(h.a,{variant:"caption"},"baseline")))),r.a.createElement(E.a,{item:!0,sm:11,xl:12},r.a.createElement(j,{reports:a.reports.baseline,labeler:function(e){var t=e.name;return"".concat(t)},maxLatency:a.maxLatency,maxRequests:a.maxRequests,withTopAxis:!0})))))),Array.from(Object(p.a)(a.reports.proxy,(function(e){return e.run})).values()).flatMap((function(e){var t=e.sort(A),n=t[0].run;return r.a.createElement(E.a,{item:!0,sm:12,key:"".concat(n,"-bars")},r.a.createElement(v.a,null,r.a.createElement(g.a,{elevation:2},r.a.createElement(E.a,{container:!0,key:"".concat(n,"-bars"),sm:12,spacing:1,justify:"flex-start",alignItems:"flex-start"},r.a.createElement(b.a,{only:"xl"},r.a.createElement(E.a,{item:!0,sm:1},r.a.createElement(v.a,null,r.a.createElement(h.a,{variant:"caption"},n)))),r.a.createElement(E.a,{item:!0,sm:11,xl:12},r.a.createElement(j,{reports:t,labeler:function(e){var t=e.name;return"".concat(t)},maxLatency:a.maxLatency,maxRequests:a.maxRequests}))))))}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t,a){e.exports=a(103)},97:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.e591bea2.chunk.js.map