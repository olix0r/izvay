(this.webpackJsonpizvay=this.webpackJsonpizvay||[]).push([[0],{114:function(t,e,n){t.exports=n(125)},119:function(t,e,n){},125:function(t,e,n){"use strict";n.r(e);var l=n(0),a=n.n(l),r=n(13),s=n.n(r),i=(n(119),n(35)),o=n.n(i),c=n(80),u=n(37),f=n(12),m=n(72),_=n(7),p=n(160),d=n(153),g=n(159),E=n(4),D=n(155),S=n(154),y=n(151),V=n(149),h=n(77),G=n.n(h),F=n(157),I=n(69),x=n(152),b=n(158),v=n(161),w=n(156),k=n(78),A=n.n(k),O=n(126),C=function(t){var e=t.sections,n=t.view;return a.a.createElement(V.a,{item:!0,sm:12},a.a.createElement(V.a,{container:!0,spacing:3,direction:"row"},e.map((function(t){var e=t.title,l=t.rows,r=t.showAxis,s=t.dimensions;return a.a.createElement(V.a,{item:!0,sm:12,lg:6,key:"".concat(e," ")},a.a.createElement(y.a,null,a.a.createElement(V.a,{container:!0,direction:"column"},a.a.createElement(V.a,{container:!0,item:!0,sm:12},a.a.createElement(V.a,{item:!0,sm:2,key:"run"},a.a.createElement(y.a,null,a.a.createElement(x.a,null,e))),a.a.createElement(V.a,{item:!0,sm:10,key:"top-axis"},r&&a.a.createElement(O.a,{square:!0},a.a.createElement(n.TopAxis,s)))),a.a.createElement(V.a,{container:!0,item:!0,sm:12,alignItems:"flex-start",direction:"row"},l.map((function(t){var e=t.name,l=t.report;return a.a.createElement(a.a.Fragment,{key:e},a.a.createElement(V.a,{item:!0,container:!0,sm:2,direction:"row"},a.a.createElement(V.a,{item:!0,sm:1}),a.a.createElement(V.a,{item:!0,sm:11},a.a.createElement(y.a,null,a.a.createElement(x.a,{variant:"caption"},e)))),a.a.createElement(V.a,{item:!0,sm:10},a.a.createElement(O.a,{square:!0},a.a.createElement(n.Viz,{report:l,dimensions:s}))))}))))))}))))},j=n(21),M=n(74);function B(){var t=Object(M.a)(["\n  height: 100%;\n  width: 100%;\n  //background-color: #666;\n"]);return B=function(){return t},t}var L=n(79).a.svg(B()),R=function(t){var e,n=[],l=Object(j.a)(t);try{for(l.s();!(e=l.n()).done;){var a=e.value;n.length>0&&n[n.length-1].End<a.Start&&n.push({Start:n[n.length-1].End,End:a.Start,Count:0,Percent:0}),n.push(a)}}catch(r){l.e(r)}finally{l.f()}return n},H={TopAxis:function(t){console.log("Creating TopAxis",t);return a.a.createElement(L,{ref:a.a.useCallback((function(e){var n=t.maxLatency,l=t.rowHeight;if(null!==e&&n){console.log("Drawing TopAxis",t);var a=e.getBoundingClientRect().width,r=_.h(e).attr("preserveAspectRatio","none").attr("viewBox","0 0 ".concat(a," ").concat(1.5*l)),s=_.d().domain([0,n]).rangeRound([15,a-15]);r.append("g").call((function(t){t.attr("transform","translate(0,".concat(1.5*l,")")).call(_.a(s).tickSize(l/2).tickFormat((function(t){return"".concat(1e3*t.valueOf(),"ms")})))}))}}),[t])})},Viz:function(t){var e=t.report,n=t.dimensions;console.log("Creating HeatMap",e,n);return a.a.createElement(L,{ref:a.a.useCallback((function(t){if(void 0!==e&&null!==t){console.log("Drawing HeatMap",e,n);var l=t.getBoundingClientRect().width,a=_.d().domain([0,n.maxLatency]).rangeRound([15,l-15]),r=_.h(t).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(l," ").concat(n.rowHeight)),s=function(t){return Math.pow(t,1/4)},i=_.f(_.b).domain([0,s(n.maxRequests)]),o=_.e(_.g[5]).domain(["50","75","90","99","99.9"]),c=r.append("g").attr("transform","translate(0,0)").selectAll("g").data([e]).join("g");c.append("g").selectAll("rect").data((function(t){return R(t.DurationHistogram.Data)})).join("rect").attr("x",(function(t){return a(t.Start)+1})).attr("width",(function(t){return a(t.End)-a(t.Start)})).attr("height",n.rowHeight).attr("fill",(function(t){return i(s(t.Count))})).append("title").text((function(t){return"".concat(t.Count," reqs [").concat(1e3*t.Start,"ms..").concat(1e3*t.End,"ms)")})),c.append("g").selectAll("rect").data((function(t){return t.DurationHistogram.Percentiles})).join("rect").attr("x",(function(t){return a(t.Value)})).attr("y",n.rowHeight/3).attr("height",n.rowHeight/3).attr("width",n.rowHeight/6).attr("fill",(function(t){return o("".concat(t.Percentile))})).append("title").text((function(t){return"".concat(t.Percentile," percentile ").concat(1e3*t.Value,"ms")}))}}),[e,n])})}};function N(){return(N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t}).apply(this,arguments)}function U(t,e){if(null==t)return{};var n,l,a=function(t,e){if(null==t)return{};var n,l,a={},r=Object.keys(t);for(l=0;l<r.length;l++)n=r[l],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(l=0;l<r.length;l++)n=r[l],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var z=a.a.createElement("style",{type:"text/css"},"\n\t.st0{fill:#FF576B;}\n\t.st1{fill:#6D6E71;}\n\t.st2{fill:#FFFFFF;}\n\t.st3{fill:url(#SVGID_1_);}\n\t.st4{fill:url(#SVGID_2_);}\n\t.st5{fill:#2BEDA7;}\n\t.st6{fill:url(#SVGID_3_);}\n\t.st7{fill:url(#SVGID_4_);}\n\t.st8{fill:url(#SVGID_5_);}\n\t.st9{fill:url(#SVGID_6_);}\n\t.st10{fill:url(#SVGID_7_);}\n\t.st11{fill:url(#SVGID_8_);}\n\t.st12{fill:url(#SVGID_9_);}\n\t.st13{fill:url(#SVGID_10_);}\n\t.st14{fill:url(#SVGID_11_);}\n\t.st15{fill:url(#SVGID_12_);}\n\t.st16{fill:url(#SVGID_13_);}\n\t.st17{fill:url(#SVGID_14_);}\n\t.st18{fill:url(#SVGID_15_);}\n\t.st19{fill:url(#SVGID_16_);}\n\t.st20{fill:url(#SVGID_17_);}\n\t.st21{fill:url(#SVGID_18_);}\n\t.st22{fill:url(#SVGID_19_);}\n\t.st23{fill:url(#SVGID_20_);}\n\t.st24{fill:url(#SVGID_21_);}\n\t.st25{fill:url(#SVGID_22_);}\n\t.st26{fill:url(#SVGID_23_);}\n\t.st27{fill:url(#SVGID_24_);}\n\t.st28{filter:url(#Adobe_OpacityMaskFilter);}\n\t.st29{mask:url(#mask-2_6_);}\n\t.st30{fill:#018AFD;}\n\t.st31{fill:#00A2FD;}\n\t.st32{fill:#06C0FD;}\n\t.st33{fill:#03B5FD;}\n\t.st34{fill:#0074FD;}\n\t.st35{fill:#005CFD;}\n\t.st36{filter:url(#Adobe_OpacityMaskFilter_1_);}\n\t.st37{mask:url(#mask-4_6_);fill:#003CFD;}\n\t.st38{fill:#0E13FD;}\n\t.st39{filter:url(#Adobe_OpacityMaskFilter_2_);}\n\t.st40{mask:url(#mask-2_5_);fill:#FFFFFF;}\n\t.st41{filter:url(#Adobe_OpacityMaskFilter_3_);}\n\t.st42{mask:url(#mask-4_5_);fill:#003CFD;}\n\t.st43{filter:url(#Adobe_OpacityMaskFilter_4_);}\n\t.st44{mask:url(#mask-2_1_);fill:#FFFFFF;}\n\t.st45{filter:url(#Adobe_OpacityMaskFilter_5_);}\n\t.st46{mask:url(#mask-4_4_);fill:#FFFFFF;}\n\t.st47{fill:#018BFE;}\n\t.st48{fill:#02C2FE;}\n\t.st49{fill:#04B6FE;}\n\t.st50{fill:#0095FE;}\n\t.st51{fill:#0074FE;}\n\t.st52{fill:#005CFE;}\n\t.st53{fill:#003DFE;}\n\t.st54{fill:#0E13FE;}\n\t.st55{filter:url(#Adobe_OpacityMaskFilter_6_);}\n\t.st56{mask:url(#mask-2_7_);}\n\t.st57{filter:url(#Adobe_OpacityMaskFilter_7_);}\n\t.st58{mask:url(#mask-2_2_);fill:#FFFFFF;}\n\t.st59{filter:url(#Adobe_OpacityMaskFilter_8_);}\n\t.st60{mask:url(#mask-4_3_);fill:#003CFD;}\n\t.st61{filter:url(#Adobe_OpacityMaskFilter_9_);}\n\t.st62{mask:url(#mask-4_7_);fill:#003CFD;}\n\t.st63{filter:url(#Adobe_OpacityMaskFilter_10_);}\n\t.st64{mask:url(#mask-4_1_);fill:#003CFD;}\n\t.st65{fill:url(#SVGID_25_);}\n\t.st66{fill:url(#SVGID_26_);}\n\t.st67{fill:url(#SVGID_27_);}\n\t.st68{fill:url(#SVGID_28_);}\n\t.st69{fill:url(#SVGID_29_);}\n\t.st70{fill:url(#SVGID_30_);}\n\t.st71{fill:url(#SVGID_31_);}\n\t.st72{fill:url(#SVGID_32_);}\n\t.st73{fill:url(#SVGID_33_);}\n\t.st74{fill:url(#SVGID_34_);}\n\t.st75{fill:url(#SVGID_35_);}\n\t.st76{fill:url(#SVGID_36_);}\n\t.st77{fill:url(#SVGID_37_);}\n\t.st78{fill:url(#SVGID_38_);}\n\t.st79{fill:url(#SVGID_39_);}\n\t.st80{fill:url(#SVGID_40_);}\n\t.st81{fill:url(#SVGID_41_);}\n\t.st82{fill:url(#SVGID_42_);}\n\t.st83{fill:url(#SVGID_43_);}\n\t.st84{fill:url(#SVGID_44_);}\n\t.st85{fill:url(#SVGID_45_);}\n\t.st86{fill:url(#SVGID_46_);}\n\t.st87{fill:url(#SVGID_47_);}\n\t.st88{fill:url(#SVGID_48_);}\n\t.st89{fill:url(#SVGID_49_);}\n\t.st90{fill:url(#SVGID_50_);}\n\t.st91{fill:url(#SVGID_51_);}\n\t.st92{fill:url(#SVGID_52_);}\n\t.st93{fill:url(#SVGID_53_);}\n\t.st94{fill:url(#SVGID_54_);}\n\t.st95{fill:url(#SVGID_55_);}\n\t.st96{fill:url(#SVGID_56_);}\n\t.st97{fill:url(#SVGID_57_);}\n\t.st98{fill:url(#SVGID_58_);}\n\t.st99{fill:url(#SVGID_59_);}\n\t.st100{fill:url(#SVGID_60_);}\n\t.st101{fill:url(#SVGID_61_);}\n\t.st102{fill:url(#SVGID_62_);}\n\t.st103{fill:url(#SVGID_63_);}\n\t.st104{fill:url(#SVGID_64_);}\n\t.st105{display:none;}\n\t.st106{display:inline;}\n"),P=a.a.createElement("polygon",{className:"st3",points:"476.4,89 476.4,281.8 512,302.4 512,109.6  "}),q=a.a.createElement("polygon",{className:"st4",points:"0,302.4 35.6,281.8 35.6,89 0,109.6  "}),T=a.a.createElement("g",null,a.a.createElement("polygon",{className:"st5",points:"174.2,300.5 337.8,394.9 337.8,353.8 184.7,265.4 174.2,271.5 174.2,271.5  "}),a.a.createElement("path",{className:"st5",d:"M347.2,449.6l-172.9-99.8v41.1l46.2,26.7l-55.6,32.1c-3.7,2.2-3.7,7.6,0,9.7L192,475l64-36.9l64,36.9 l27.1-15.7C350.9,457.1,350.9,451.7,347.2,449.6z"})),W=a.a.createElement("path",{className:"st6",d:"M476.4,204v170.9c0,4.3,4.7,7,8.4,4.9l24.3-14.1c1.7-1,2.8-2.9,2.8-4.9V183.5L476.4,204z"}),J=a.a.createElement("path",{className:"st7",d:"M406.6,424.9l22.9-13.2c2.6-1.5,4.2-4.3,4.2-7.3V228.6l-35.6,20.5v170.9 C398.2,424.4,402.9,427.1,406.6,424.9z"}),Y=a.a.createElement("path",{className:"st8",d:"M320,475l32.8-18.9c1.7-1,2.8-2.9,2.8-4.9V273.8L320,294.3V475z"}),$=a.a.createElement("path",{className:"st9",d:"M159.3,456.1L192,475V294.3l-35.6-20.5v177.4C156.5,453.2,157.5,455.1,159.3,456.1z"}),K=a.a.createElement("path",{className:"st10",d:"M82.4,411.7l22.9,13.2c3.7,2.2,8.4-0.5,8.4-4.9V249.1l-35.6-20.5v175.8C78.2,407.4,79.8,410.2,82.4,411.7z "}),Q=a.a.createElement("path",{className:"st11",d:"M4.2,366.5l22.9,13.2c3.7,2.2,8.4-0.5,8.4-4.9V204L0,183.5v175.8C0,362.3,1.6,365,4.2,366.5z"}),X=a.a.createElement("g",null,a.a.createElement("path",{className:"st5",d:"M512,109.6L476.4,89l-64,36.9l-42.6-24.6l55.6-32.1c3.7-2.2,3.7-7.6,0-9.7l-22.9-13.2 c-2.6-1.5-5.8-1.5-8.4,0l-59.8,34.5l-42.6-24.6l55.6-32.1c3.7-2.2,3.7-7.6,0-9.7L324.2,1.1c-2.6-1.5-5.8-1.5-8.4,0L256,35.7 L196.2,1.1c-2.6-1.5-5.8-1.5-8.4,0l-22.9,13.2c-3.7,2.2-3.7,7.6,0,9.7L476.4,204l35.6-20.5l-64-37L512,109.6z"}),a.a.createElement("path",{className:"st5",d:"M109.6,46.3L86.6,59.5c-3.7,2.2-3.7,7.6,0,9.7l311.6,179.9l35.6-20.5L118,46.3 C115.4,44.8,112.2,44.8,109.6,46.3z"}),a.a.createElement("polygon",{className:"st5",points:"0,109.6 64,146.5 0,183.5 35.6,204 99.6,167.1 142.2,191.7 78.2,228.6 113.8,249.2 177.8,212.2  220.4,236.8 156.4,273.8 192,294.3 256,257.4 320,294.3 355.6,273.8 35.6,89  "})),Z=a.a.createElement("g",{id:"nyt_x5F_exporter_x5F_info",className:"st105"}),tt=function(t){var e=t.svgRef,n=t.title,l=U(t,["svgRef","title"]);return a.a.createElement("svg",N({x:"0px",y:"0px",viewBox:"0 0 512 475",style:{enableBackground:"new 0 0 512 475"},xmlSpace:"preserve",ref:e},l),n?a.a.createElement("title",null,n):null,z,a.a.createElement("g",{id:"Layer_1"},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:494.2216,y1:89.0164,x2:494.2216,y2:302.3534},a.a.createElement("stop",{offset:0,style:{stopColor:"#2BEDA7"}}),a.a.createElement("stop",{offset:1,style:{stopColor:"#018AFD"}})),P,a.a.createElement("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:17.7781,y1:89.0217,x2:17.7781,y2:302.3659},a.a.createElement("stop",{offset:0,style:{stopColor:"#2BEDA7"}}),a.a.createElement("stop",{offset:1,style:{stopColor:"#018AFD"}})),q),T,a.a.createElement("g",null,a.a.createElement("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:494.2216,y1:183.4557,x2:494.2216,y2:380.5421},a.a.createElement("stop",{offset:0,style:{stopColor:"#2BEDA7"}}),a.a.createElement("stop",{offset:1,style:{stopColor:"#018AFD"}})),W,a.a.createElement("linearGradient",{id:"SVGID_4_",gradientUnits:"userSpaceOnUse",x1:415.9966,y1:228.6177,x2:415.9966,y2:425.704},a.a.createElement("stop",{offset:0,style:{stopColor:"#2BEDA7"}}),a.a.createElement("stop",{offset:1,style:{stopColor:"#018AFD"}})),J,a.a.createElement("linearGradient",{id:"SVGID_5_",gradientUnits:"userSpaceOnUse",x1:337.7726,y1:273.7769,x2:337.7726,y2:474.9643},a.a.createElement("stop",{offset:0,style:{stopColor:"#2BEDA7"}}),a.a.createElement("stop",{offset:1,style:{stopColor:"#018AFD"}})),Y,a.a.createElement("linearGradient",{id:"SVGID_6_",gradientUnits:"userSpaceOnUse",x1:174.2449,y1:273.7773,x2:174.2449,y2:474.9612},a.a.createElement("stop",{offset:0,style:{stopColor:"#2BEDA7"}}),a.a.createElement("stop",{offset:1,style:{stopColor:"#018AFD"}})),$,a.a.createElement("linearGradient",{id:"SVGID_7_",gradientUnits:"userSpaceOnUse",x1:96.0212,y1:228.6163,x2:96.0212,y2:425.7035},a.a.createElement("stop",{offset:0,style:{stopColor:"#2BEDA7"}}),a.a.createElement("stop",{offset:1,style:{stopColor:"#018AFD"}})),K,a.a.createElement("linearGradient",{id:"SVGID_8_",gradientUnits:"userSpaceOnUse",x1:17.7973,y1:183.4524,x2:17.7973,y2:380.5396},a.a.createElement("stop",{offset:0,style:{stopColor:"#2BEDA7"}}),a.a.createElement("stop",{offset:1,style:{stopColor:"#018AFD"}})),Q),X))),Z)},et=a.a.forwardRef((function(t,e){return a.a.createElement(tt,N({svgRef:e},t))})),nt=(n.p,Object(d.a)((function(t){return Object(g.a)({html:{},toolbar:{},title:{flexGrow:1},paper:{display:"flex",border:"1px solid ".concat(t.palette.divider),flexWrap:"wrap"},divider:{alignSelf:"stretch",height:"auto",margin:t.spacing(1,.5)}})})));function lt(){return(lt=Object(m.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("./reports.json");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n.map((function(t){var e=JSON.parse(t.Labels);return Object(c.a)({meta:e},t)})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var at={rowHeight:20,maxLatency:0,maxRequests:0,showAxis:!1},rt={by:"Profile",defaultScaler:{scale:function(t){return function(t){return 0===t.length?at:{showAxis:!0,rowHeight:20,maxLatency:_.c(t,(function(t){return t.DurationHistogram.Max})),maxRequests:_.c(t,(function(t){return t.DurationHistogram.Count}))}}}},sections:function(t,e){var n=e.scale(t),l=Object(p.a)(t,(function(t){return t.meta.name}));return Array.from(l).flatMap((function(t){var e=Object(f.a)(t,2),l=e[0],a=e[1],r=n(a);return{title:l,showAxis:r.showAxis,dimensions:Object(u.a)(r,["showAxis"]),rows:a.map((function(t){return{name:t.meta.run,report:t}})).sort((function(t,e){return t.name===e.name?0:t.name<e.name||"baseline"===t.name?-1:(console.assert(t.name>e.name||"baseline"===e.name),1)}))}})).sort((function(t,e){return t.title===e.title?0:t.title<e.title?-1:1}))}},st={by:"Run",defaultScaler:{scale:function(t){if(!t||0===t.length)return function(t){return at};var e={showAxis:!0,rowHeight:20,maxLatency:_.c(t,(function(t){return t.DurationHistogram.Max})),maxRequests:_.c(t,(function(t){return t.DurationHistogram.Count}))};return function(t){return e}}},sections:function(t,e){var n=e.scale(t),l=Object(p.a)(t,(function(t){return t.meta.run}));return Array.from(l).flatMap((function(t,e){var l=Object(f.a)(t,2),a=l[0],r=l[1],s=n(r);return{title:a,showAxis:s.showAxis,dimensions:Object(u.a)(s,["showAxis"]),rows:r.map((function(t){return{name:t.meta.name,report:t}})).sort((function(t,e){return t.name<e.name?-1:(console.assert(t.name>e.name),1)}))}})).sort((function(t,e){return t.title===e.title?0:t.title<e.title||"baseline"===t.title?-1:(console.assert(t.title>e.title||"baseline"===e.title),1)}))}},it=Object(E.a)((function(t){return{grouped:{margin:t.spacing(.5),border:"none",padding:t.spacing(0,1),"&:not(:first-child)":{borderRadius:t.shape.borderRadius},"&:first-child":{borderRadius:t.shape.borderRadius}}}}))(v.a),ot=function(){var t=nt(),e=Object(l.useState)([]),n=Object(f.a)(e,2),r=n[0],s=n[1];Object(l.useEffect)((function(){(function(){return lt.apply(this,arguments)})().then(s)}),[]);var i=Object(l.useState)({grouping:rt,scaler:rt.defaultScaler}),o=Object(f.a)(i,2),c=o[0],u=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a,null),a.a.createElement(D.a,{position:"static"},a.a.createElement(w.a,{className:t.toolbar},a.a.createElement(F.a,null,a.a.createElement(I.a,{component:et,viewBox:"0 0 600 476.6"})),a.a.createElement(x.a,{variant:"h6",className:t.title},"Proxy Latency by ",c.grouping.by),a.a.createElement(it,{size:"small",exclusive:!0,value:c.grouping,onChange:function(t,e){console.log("changing grouping",e,e.defaultScaler),u({grouping:e,scaler:e.defaultScaler})},"aria-label":"Report grouping"},a.a.createElement(b.a,{value:st,"aria-label":"By run",disabled:st===c.grouping},a.a.createElement(G.a,null)),a.a.createElement(b.a,{value:rt,"aria-label":"By profile",disabled:rt===c.grouping},a.a.createElement(A.a,null))),!1)),a.a.createElement(y.a,{maxWidth:"xl"},a.a.createElement(V.a,{container:!0,spacing:2},a.a.createElement(V.a,{item:!0,sm:12,md:6,key:"spacer"}),a.a.createElement(V.a,{item:!0,sm:12,key:"requests-by-latency"},a.a.createElement(C,{sections:c.grouping.sections(r,c.scaler),view:H})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(ot,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[114,1,2]]]);
//# sourceMappingURL=main.ebea886c.chunk.js.map