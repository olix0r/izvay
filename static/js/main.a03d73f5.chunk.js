(this.webpackJsonpizvay=this.webpackJsonpizvay||[]).push([[0],{88:function(e,t,n){e.exports=n(99)},93:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(56),o=n.n(i),c=(n(93),n(20)),l=n(26),u=n.n(l),m=n(57),s=n(3),f=n(116),d=n(114),p=n(112),g=n(113),v=n(117),E=n(115),h=function(e){var t=e.reports,n=e.dimensions,a=e.view;return r.a.createElement(p.a,{item:!0,sm:12},r.a.createElement(g.a,{elevation:2},r.a.createElement(p.a,{container:!0,spacing:3,direction:"row"},r.a.createElement(p.a,{item:!0,sm:12,key:"baseline"},r.a.createElement(d.a,null,r.a.createElement(g.a,{elevation:2},r.a.createElement(p.a,{container:!0,direction:"column"},r.a.createElement(p.a,{container:!0,item:!0,sm:12},r.a.createElement(p.a,{item:!0,sm:2,key:"run"},r.a.createElement(d.a,null,r.a.createElement(E.a,null,"baseline"))),r.a.createElement(p.a,{item:!0,sm:10,key:"top-axis"},r.a.createElement(a.TopAxis,{maxLatency:n.maxLatency,maxRequests:n.maxRequests,rowHeight:n.rowHeight}))),r.a.createElement(p.a,{container:!0,item:!0,sm:12,alignItems:"flex-start"},t.baseline.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.name},r.a.createElement(p.a,{item:!0,container:!0,sm:2,key:"run",direction:"row"},r.a.createElement(p.a,{item:!0,sm:1}),r.a.createElement(p.a,{item:!0,sm:11},r.a.createElement(d.a,null,r.a.createElement(E.a,{variant:"caption"},e.name)))),r.a.createElement(p.a,{item:!0,sm:10},r.a.createElement(a.Viz,{report:e,dimensions:n})))}))))))),Array.from(Object(v.a)(t.proxy,(function(e){return e.run})).values()).flatMap((function(e){var t=e.sort(x),i=t[0].run;return r.a.createElement(p.a,{item:!0,sm:12,key:"".concat(i," ")},r.a.createElement(d.a,null,r.a.createElement(g.a,{elevation:2},r.a.createElement(p.a,{container:!0,direction:"column"},r.a.createElement(p.a,{item:!0,sm:12},r.a.createElement(d.a,null,r.a.createElement(E.a,null,i))),r.a.createElement(p.a,{container:!0,item:!0,sm:12,alignItems:"flex-start",direction:"row"},t.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.name},r.a.createElement(p.a,{item:!0,container:!0,sm:2,direction:"row"},r.a.createElement(p.a,{item:!0,sm:1}),r.a.createElement(p.a,{item:!0,sm:11},r.a.createElement(d.a,null,r.a.createElement(E.a,{variant:"caption"},e.name)))),r.a.createElement(p.a,{item:!0,sm:10},r.a.createElement(a.Viz,{report:e,dimensions:n})))})))))))})))))},x=function(e,t){return e.kind!==t.kind?"baseline"===e.kind?-1:1:e.name===t.name?0:e.name<t.name?-1:1},w=n(18),y=n(19);function k(){var e=Object(w.a)(["\n  height: 100%;\n  width: 100%;\n  //background-color: #666;\n"]);return k=function(){return e},e}var b=y.a.svg(k()),R=function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;t.length>0&&t[t.length-1].End<c.Start&&t.push({Start:t[t.length-1].End,End:c.Start,Count:0,Percent:0}),t.push(c)}}catch(l){a=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return t},H={TopAxis:function(e){var t=e.maxLatency,n=e.rowHeight;return r.a.createElement(b,{ref:r.a.useCallback((function(e){if(null!==e&&t){var a=e.getBoundingClientRect().width,r=s.i(e).attr("preserveAspectRatio","none").attr("viewBox","0 0 ".concat(a," ").concat(1.5*n)),i=s.e().domain([0,t]).rangeRound([15,a-15]);r.append("g").call((function(e){e.attr("transform","translate(0,".concat(1.5*n,")")).call(s.a(i).tickSize(n/2).tickFormat((function(e){return"".concat(1e3*e.valueOf(),"ms")})))}))}}),[t,n])})},Viz:function(e){var t=e.report,n=e.dimensions;return r.a.createElement(b,{ref:r.a.useCallback((function(e){if(void 0!==t&&null!==e){var a=e.getBoundingClientRect().width,r=s.e().domain([0,n.maxLatency]).rangeRound([15,a-15]),i=s.i(e).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(a," ").concat(n.rowHeight)),o=function(e){return Math.pow(e,1/4)},c=s.g(s.c).domain([0,o(n.maxRequests)]),l=s.f(s.h[5]).domain(["50","75","90","99","99.9"]),u=i.append("g").attr("transform","translate(0,0)").selectAll("g").data([t]).join("g");u.append("g").selectAll("rect").data((function(e){return R(e.fortio.DurationHistogram.Data)})).join("rect").attr("x",(function(e){return r(e.Start)+1})).attr("width",(function(e){return r(e.End)-r(e.Start)})).attr("height",n.rowHeight).attr("fill",(function(e){return c(o(e.Count))})).append("title").text((function(e){return"".concat(e.Count," reqs [").concat(1e3*e.Start,"ms..").concat(1e3*e.End,"ms)")})),u.append("g").selectAll("rect").data((function(e){return e.fortio.DurationHistogram.Percentiles})).join("rect").attr("x",(function(e){return r(e.Value)})).attr("y",n.rowHeight/3).attr("height",n.rowHeight/3).attr("width",n.rowHeight/6).attr("fill",(function(e){return l("".concat(e.Percentile))})).append("title").text((function(e){return"".concat(e.Percentile," percentile ").concat(1e3*e.Value,"ms")}))}}),[t,n])})}};function q(){var e=Object(w.a)(["\n  height: 100%;\n  width: 100%;\n  //background-color: #666;\n"]);return q=function(){return e},e}var C=y.a.svg(q()),A=function(e){var t=e.fortio,n=[],a=0,r=!0,i=!1,o=void 0;try{for(var c,l=t.DurationHistogram.Data[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value;n.push({prior:a,bucket:u}),a+=u.Count}}catch(m){i=!0,o=m}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n},j={TopAxis:function(e){var t=e.maxRequests,n=e.rowHeight;return r.a.createElement(C,{ref:r.a.useCallback((function(e){if(null!==e&&t){var a=e.getBoundingClientRect().width,r=s.i(e).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(a," ").concat(1.5*n)),i=s.e().domain([0,t]).rangeRound([15,a-15]);r.append("g").call((function(e){return e.attr("transform","translate(0,".concat(1.5*n,")")).call(s.a(i).tickSize(n/2).tickFormat((function(e){return"".concat(e.valueOf()/1e3,"K")})))}))}}),[t,n])})},Viz:function(e){var t=e.report,n=e.dimensions;return r.a.createElement(C,{ref:r.a.useCallback((function(e){if(void 0!==t&&null!==e){var a=e.getBoundingClientRect().width,r=s.e().domain([0,n.maxRequests]).rangeRound([15,a-15]),i=s.i(e).attr("preserveAspectRatio","none").attr("viewBox","0 0 ".concat(a," ").concat(n.rowHeight)),o=function(e){return Math.pow(e,.5)},c=s.g(s.b).domain([0,o(n.maxLatency)]);i.append("g").selectAll("g").data([t]).join("g").append("g").selectAll("rect").data(A).join("rect").attr("x",(function(e){var t=e.prior;return r(t)+1})).attr("width",(function(e){var t=e.prior,n=e.bucket;return r(t+n.Count)-r(t)})).attr("height",n.rowHeight).attr("fill",(function(e){var t=e.bucket;return c(o(t.End))})).append("title").text((function(e){var t=e.prior,n=e.bucket;return"".concat(t+n.Count," reqs <").concat(1e3*n.End,"ms")}))}}),[t,n])})}},L=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./reports.json").then((function(e){return e.json()}));case 2:return t=e.sent,n=t.reduce((function(e,t){var n=JSON.parse(t.Labels),a=n.run,r=n.kind,i=n.name;return e[r].push({kind:r,name:i,run:a,fortio:t}),e}),{proxy:[],baseline:[]}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=r.a.useState({maxLatency:0,maxRequests:0,reports:{baseline:[],proxy:[]}}),t=Object(c.a)(e,2),n=t[0],a=t[1];r.a.useEffect((function(){L().then((function(e){var t=s.d(e.baseline.concat(e.proxy),(function(e){e.run,e.kind,e.name;return e.fortio.DurationHistogram.Max})),n=s.d(e.baseline.concat(e.proxy),(function(e){return e.fortio.DurationHistogram.Count}));a({maxLatency:t,maxRequests:n,reports:e})}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null),r.a.createElement(d.a,{maxWidth:"xl"},r.a.createElement(p.a,{container:!0,spacing:5},r.a.createElement(p.a,{item:!0,sm:12}),r.a.createElement(p.a,{item:!0,sm:12,xl:6,key:"requests-by-latency"},r.a.createElement(g.a,{elevation:2},r.a.createElement(h,{reports:n.reports,view:H,dimensions:{maxLatency:n.maxLatency,maxRequests:n.maxRequests,rowHeight:20}}))),r.a.createElement(p.a,{item:!0,sm:12,xl:6,key:"latency-by-requests"},r.a.createElement(g.a,{elevation:2},r.a.createElement(h,{reports:n.reports,view:j,dimensions:{maxLatency:n.maxLatency,maxRequests:n.maxRequests,rowHeight:20}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[88,1,2]]]);
//# sourceMappingURL=main.a03d73f5.chunk.js.map